{
  "width": 5000,
  "height": 4000,
  "nodes": [
    {
      "agent_name": "pheromone",
      "agent_instances": 0,
      "attributes": [
        {
          "name": "concentration",
          "type": "VEC3"
        }
      ],
      "class": "nodegraph.nodes.agent.AgentNode",
      "pos_x": 620.55774,
      "pos_y": -229.16026,
      "id": 1
    },
    {
      "class": "nodegraph.nodes.controlflow.InitializationNode",
      "pos_x": 182.5592,
      "pos_y": -227.16028,
      "id": 2
    },
    {
      "class": "nodegraph.nodes.pipeline.FragmentLogicNode",
      "pos_x": 1020.0,
      "pos_y": 1517.0,
      "id": 3
    },
    {
      "agent_reference": 1,
      "class": "nodegraph.nodes.agent.AgentReadNode",
      "pos_x": 372.0,
      "pos_y": 1535.0,
      "id": 4
    },
    {
      "class": "nodegraph.nodes.controlflow.InitializationNode",
      "pos_x": 180.0,
      "pos_y": 1516.0,
      "id": 5
    },
    {
      "class": "nodegraph.nodes.controlflow.InitializationNode",
      "pos_x": 182.0,
      "pos_y": 25.0,
      "id": 6
    },
    {
      "agent_name": "physarum",
      "agent_instances": 1000,
      "attributes": [
        {
          "name": "pos",
          "type": "VEC2"
        },
        {
          "name": "vel",
          "type": "VEC2"
        },
        {
          "name": "color",
          "type": "VEC3"
        }
      ],
      "class": "nodegraph.nodes.agent.AgentNode",
      "pos_x": 1411.0,
      "pos_y": 28.0,
      "id": 7
    },
    {
      "class": "nodegraph.nodes.vector.Vec2Node",
      "pos_x": 701.0,
      "pos_y": 53.0,
      "id": 8
    },
    {
      "class": "nodegraph.nodes.vector.Vec2Node",
      "pos_x": 1047.0,
      "pos_y": 188.0,
      "id": 9
    },
    {
      "class": "nodegraph.nodes.random.RandomFloatNode",
      "pos_x": 500.0,
      "pos_y": 50.0,
      "id": 10
    },
    {
      "class": "nodegraph.nodes.random.RandomFloatNode",
      "pos_x": 500.0,
      "pos_y": 115.0,
      "id": 11
    },
    {
      "class": "nodegraph.nodes.random.RandomFloatNode",
      "pos_x": 499.0,
      "pos_y": 200.0,
      "id": 12
    },
    {
      "class": "nodegraph.nodes.math.SinNode",
      "pos_x": 867.0,
      "pos_y": 167.0,
      "id": 13
    },
    {
      "class": "nodegraph.nodes.math.CosNode",
      "pos_x": 867.0,
      "pos_y": 233.0,
      "id": 14
    },
    {
      "step_index": 1,
      "use_agent": true,
      "agent_reference": 7,
      "class": "nodegraph.nodes.controlflow.StepNode",
      "pos_x": 176.0,
      "pos_y": 913.0,
      "id": 15
    },
    {
      "agent_reference": 7,
      "class": "nodegraph.nodes.agent.AgentWriteNode",
      "pos_x": 1595.0,
      "pos_y": 909.0,
      "id": 16
    },
    {
      "agent_reference": 7,
      "class": "nodegraph.nodes.agent.AgentReadNode",
      "pos_x": 402.0,
      "pos_y": 980.0,
      "id": 17
    },
    {
      "output_type": "VEC2",
      "class": "nodegraph.nodes.math.AddNode",
      "pos_x": 1066.0,
      "pos_y": 952.0,
      "id": 18
    },
    {
      "class": "nodegraph.nodes.optimizations.ScreenPosToIndex",
      "pos_x": 1622.0,
      "pos_y": 1066.0,
      "id": 19
    },
    {
      "agent_reference": 1,
      "class": "nodegraph.nodes.agent.AgentWriteNode",
      "pos_x": 1955.8237,
      "pos_y": 908.6071,
      "id": 20
    },
    {
      "output_type": "VEC2",
      "class": "nodegraph.nodes.math.MulNode",
      "pos_x": 764.0,
      "pos_y": 1099.0,
      "id": 21
    },
    {
      "class": "nodegraph.nodes.variables.common.FrameDeltaNode",
      "pos_x": 516.0,
      "pos_y": 1129.0,
      "id": 22
    },
    {
      "output_type": "VEC2",
      "class": "nodegraph.nodes.math.MulNode",
      "pos_x": 930.58704,
      "pos_y": 1098.0499,
      "non_default_values": {
        "y_pos": "0.01"
      },
      "id": 23
    },
    {
      "output_type": "FLOAT",
      "class": "nodegraph.nodes.math.MulNode",
      "pos_x": 702.0,
      "pos_y": 199.0,
      "non_default_values": {
        "y_pos": "6.28318"
      },
      "id": 24
    },
    {
      "output_type": "VEC2",
      "class": "nodegraph.nodes.math.MulNode",
      "pos_x": 870.0,
      "pos_y": 53.0,
      "non_default_values": {
        "y_pos": "2"
      },
      "id": 25
    },
    {
      "output_type": "VEC2",
      "class": "nodegraph.nodes.math.SubNode",
      "pos_x": 1039.0,
      "pos_y": 53.0,
      "non_default_values": {
        "y_pos": "1"
      },
      "id": 26
    },
    {
      "step_index": 0,
      "use_agent": true,
      "agent_reference": 1,
      "class": "nodegraph.nodes.controlflow.StepNode",
      "pos_x": 176.61035,
      "pos_y": 559.14233,
      "id": 27
    },
    {
      "class": "nodegraph.nodes.vector.Vec4Node",
      "pos_x": 830.08777,
      "pos_y": 1553.834,
      "non_default_values": {
        "w": "1.0"
      },
      "id": 28
    },
    {
      "class": "nodegraph.nodes.vector.DecomposeVec3",
      "pos_x": 662.0,
      "pos_y": 1554.0,
      "id": 29
    },
    {
      "class": "nodegraph.nodes.vector.Vec3Node",
      "pos_x": 919.6279,
      "pos_y": 365.10596,
      "id": 30
    },
    {
      "class": "nodegraph.nodes.random.RandomFloatNode",
      "pos_x": 683.0,
      "pos_y": 454.0,
      "id": 31
    },
    {
      "class": "nodegraph.nodes.random.RandomFloatNode",
      "pos_x": 683.0,
      "pos_y": 391.0,
      "id": 32
    },
    {
      "class": "nodegraph.nodes.random.RandomFloatNode",
      "pos_x": 684.0,
      "pos_y": 326.0,
      "id": 33
    },
    {
      "class": "nodegraph.nodes.vector.Vec3Node",
      "pos_x": 415.5595,
      "pos_y": -145.16043,
      "non_default_values": {
        "x": "0",
        "y": "0",
        "z": "0"
      },
      "id": 34
    },
    {
      "kernel_width": 3,
      "kernel_height": 3,
      "ignore_self": false,
      "agent_reference": 1,
      "class": "nodegraph.nodes.agent.KernelNode",
      "pos_x": 558.49316,
      "pos_y": 559.4778,
      "id": 35
    },
    {
      "variable_name": "average_color",
      "variable_type": "VEC3",
      "variable_value": "vec3(0)",
      "class": "nodegraph.nodes.variables.DefineNode",
      "pos_x": 381.49316,
      "pos_y": 560.4778,
      "id": 36
    },
    {
      "reference": 36,
      "class": "nodegraph.nodes.variables.IncrementNode",
      "pos_x": 897.0464,
      "pos_y": 559.316,
      "id": 37
    },
    {
      "agent_reference": 1,
      "class": "nodegraph.nodes.agent.AgentWriteNode",
      "pos_x": 1488.8871,
      "pos_y": 688.8449,
      "id": 38
    },
    {
      "output_type": "VEC3",
      "class": "nodegraph.nodes.math.DivNode",
      "pos_x": 1120.8867,
      "pos_y": 744.8449,
      "id": 39
    },
    {
      "output_type": "INT",
      "class": "nodegraph.nodes.math.AddNode",
      "pos_x": 943.95886,
      "pos_y": 789.8523,
      "non_default_values": {
        "y_pos": ".005"
      },
      "id": 40
    },
    {
      "class": "nodegraph.nodes.variables.common.InstanceNode",
      "pos_x": 1276.5315,
      "pos_y": 700.473,
      "id": 41
    },
    {
      "variable_reference": 36,
      "class": "nodegraph.nodes.variables.VariableReferenceNode",
      "pos_x": 944.8436,
      "pos_y": 706.8368,
      "id": 42
    },
    {
      "class": "nodegraph.nodes.variables.common.InstanceNode",
      "pos_x": 1313.5544,
      "pos_y": 924.147,
      "id": 43
    }
  ],
  "links": [
    {
      "src": {
        "node_id": 2,
        "attribute_name": "outflow"
      },
      "dst": {
        "node_id": 1,
        "attribute_name": "inflow"
      }
    },
    {
      "src": {
        "node_id": 34,
        "attribute_name": "vec3"
      },
      "dst": {
        "node_id": 1,
        "attribute_name": "concentration"
      }
    },
    {
      "src": {
        "node_id": 5,
        "attribute_name": "outflow"
      },
      "dst": {
        "node_id": 3,
        "attribute_name": "inflow"
      }
    },
    {
      "src": {
        "node_id": 28,
        "attribute_name": "vec4"
      },
      "dst": {
        "node_id": 3,
        "attribute_name": "fragment_color"
      }
    },
    {
      "src": {
        "node_id": 5,
        "attribute_name": "instance"
      },
      "dst": {
        "node_id": 4,
        "attribute_name": "instance"
      }
    },
    {
      "src": {
        "node_id": 6,
        "attribute_name": "outflow"
      },
      "dst": {
        "node_id": 7,
        "attribute_name": "inflow"
      }
    },
    {
      "src": {
        "node_id": 26,
        "attribute_name": "Sub"
      },
      "dst": {
        "node_id": 7,
        "attribute_name": "pos"
      }
    },
    {
      "src": {
        "node_id": 9,
        "attribute_name": "vec2"
      },
      "dst": {
        "node_id": 7,
        "attribute_name": "vel"
      }
    },
    {
      "src": {
        "node_id": 30,
        "attribute_name": "vec3"
      },
      "dst": {
        "node_id": 7,
        "attribute_name": "color"
      }
    },
    {
      "src": {
        "node_id": 10,
        "attribute_name": "random_float"
      },
      "dst": {
        "node_id": 8,
        "attribute_name": "x"
      }
    },
    {
      "src": {
        "node_id": 11,
        "attribute_name": "random_float"
      },
      "dst": {
        "node_id": 8,
        "attribute_name": "y"
      }
    },
    {
      "src": {
        "node_id": 13,
        "attribute_name": "sin"
      },
      "dst": {
        "node_id": 9,
        "attribute_name": "x"
      }
    },
    {
      "src": {
        "node_id": 14,
        "attribute_name": "cos"
      },
      "dst": {
        "node_id": 9,
        "attribute_name": "y"
      }
    },
    {
      "src": {
        "node_id": 24,
        "attribute_name": "Mul"
      },
      "dst": {
        "node_id": 13,
        "attribute_name": "theta"
      }
    },
    {
      "src": {
        "node_id": 24,
        "attribute_name": "Mul"
      },
      "dst": {
        "node_id": 14,
        "attribute_name": "theta"
      }
    },
    {
      "src": {
        "node_id": 15,
        "attribute_name": "outflow"
      },
      "dst": {
        "node_id": 16,
        "attribute_name": "inflow"
      }
    },
    {
      "src": {
        "node_id": 43,
        "attribute_name": "instance"
      },
      "dst": {
        "node_id": 16,
        "attribute_name": "instance"
      }
    },
    {
      "src": {
        "node_id": 18,
        "attribute_name": "Add"
      },
      "dst": {
        "node_id": 16,
        "attribute_name": "pos"
      }
    },
    {
      "src": {
        "node_id": 15,
        "attribute_name": "instance"
      },
      "dst": {
        "node_id": 17,
        "attribute_name": "instance"
      }
    },
    {
      "src": {
        "node_id": 17,
        "attribute_name": "pos"
      },
      "dst": {
        "node_id": 18,
        "attribute_name": "x_pos"
      }
    },
    {
      "src": {
        "node_id": 23,
        "attribute_name": "Mul"
      },
      "dst": {
        "node_id": 18,
        "attribute_name": "y_pos"
      }
    },
    {
      "src": {
        "node_id": 17,
        "attribute_name": "pos"
      },
      "dst": {
        "node_id": 19,
        "attribute_name": "Screen Position"
      }
    },
    {
      "src": {
        "node_id": 16,
        "attribute_name": "outflow"
      },
      "dst": {
        "node_id": 20,
        "attribute_name": "inflow"
      }
    },
    {
      "src": {
        "node_id": 19,
        "attribute_name": "index"
      },
      "dst": {
        "node_id": 20,
        "attribute_name": "instance"
      }
    },
    {
      "src": {
        "node_id": 17,
        "attribute_name": "color"
      },
      "dst": {
        "node_id": 20,
        "attribute_name": "concentration"
      }
    },
    {
      "src": {
        "node_id": 17,
        "attribute_name": "vel"
      },
      "dst": {
        "node_id": 21,
        "attribute_name": "x_pos"
      }
    },
    {
      "src": {
        "node_id": 22,
        "attribute_name": "u_time_delta"
      },
      "dst": {
        "node_id": 21,
        "attribute_name": "y_pos"
      }
    },
    {
      "src": {
        "node_id": 21,
        "attribute_name": "Mul"
      },
      "dst": {
        "node_id": 23,
        "attribute_name": "x_pos"
      }
    },
    {
      "src": {
        "node_id": 12,
        "attribute_name": "random_float"
      },
      "dst": {
        "node_id": 24,
        "attribute_name": "x_pos"
      }
    },
    {
      "src": {
        "node_id": 8,
        "attribute_name": "vec2"
      },
      "dst": {
        "node_id": 25,
        "attribute_name": "x_pos"
      }
    },
    {
      "src": {
        "node_id": 25,
        "attribute_name": "Mul"
      },
      "dst": {
        "node_id": 26,
        "attribute_name": "x_pos"
      }
    },
    {
      "src": {
        "node_id": 29,
        "attribute_name": "x"
      },
      "dst": {
        "node_id": 28,
        "attribute_name": "x"
      }
    },
    {
      "src": {
        "node_id": 29,
        "attribute_name": "y"
      },
      "dst": {
        "node_id": 28,
        "attribute_name": "y"
      }
    },
    {
      "src": {
        "node_id": 29,
        "attribute_name": "z"
      },
      "dst": {
        "node_id": 28,
        "attribute_name": "z"
      }
    },
    {
      "src": {
        "node_id": 4,
        "attribute_name": "concentration"
      },
      "dst": {
        "node_id": 29,
        "attribute_name": "input"
      }
    },
    {
      "src": {
        "node_id": 33,
        "attribute_name": "random_float"
      },
      "dst": {
        "node_id": 30,
        "attribute_name": "x"
      }
    },
    {
      "src": {
        "node_id": 32,
        "attribute_name": "random_float"
      },
      "dst": {
        "node_id": 30,
        "attribute_name": "y"
      }
    },
    {
      "src": {
        "node_id": 31,
        "attribute_name": "random_float"
      },
      "dst": {
        "node_id": 30,
        "attribute_name": "z"
      }
    },
    {
      "src": {
        "node_id": 36,
        "attribute_name": "outflow"
      },
      "dst": {
        "node_id": 35,
        "attribute_name": "inflow"
      }
    },
    {
      "src": {
        "node_id": 27,
        "attribute_name": "instance"
      },
      "dst": {
        "node_id": 35,
        "attribute_name": "instance"
      }
    },
    {
      "src": {
        "node_id": 35,
        "attribute_name": "outflow"
      },
      "dst": {
        "node_id": 37,
        "attribute_name": "inflow"
      }
    },
    {
      "src": {
        "node_id": 35,
        "attribute_name": "concentration"
      },
      "dst": {
        "node_id": 37,
        "attribute_name": "value"
      }
    },
    {
      "src": {
        "node_id": 35,
        "attribute_name": "then"
      },
      "dst": {
        "node_id": 38,
        "attribute_name": "inflow"
      }
    },
    {
      "src": {
        "node_id": 41,
        "attribute_name": "instance"
      },
      "dst": {
        "node_id": 38,
        "attribute_name": "instance"
      }
    },
    {
      "src": {
        "node_id": 39,
        "attribute_name": "Div"
      },
      "dst": {
        "node_id": 38,
        "attribute_name": "concentration"
      }
    },
    {
      "src": {
        "node_id": 42,
        "attribute_name": "output"
      },
      "dst": {
        "node_id": 39,
        "attribute_name": "x_pos"
      }
    },
    {
      "src": {
        "node_id": 40,
        "attribute_name": "Add"
      },
      "dst": {
        "node_id": 39,
        "attribute_name": "y_pos"
      }
    },
    {
      "src": {
        "node_id": 35,
        "attribute_name": "count"
      },
      "dst": {
        "node_id": 40,
        "attribute_name": "x_pos"
      }
    }
  ]
}