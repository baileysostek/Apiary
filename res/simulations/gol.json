{
  "world":{
    "name":"Conway's Game of Life",
    "type":"AgentGrid",
    "parameters":{
      "agent":"cell"
    }
  },
  "agents":{
    "cell":{
      "attributes":{
        "color":{
          "type":"vec3",
          "default_value":["@random_float", "@random_float", "@random_float", "@vec3"]
        },
        "alive":{
          "type":"float",
          "default_value":["@random_bool"]
        }
      }
    }
  },
  "steps":[
    {
      "agents":["cell"],
      "logic":[ "cell", "@agent_count", [["current_cell", "cell", "cell", "0", "@get_agent_at_index", "@define"], ["cell", "@agent_count"], ["cell", "@agent_count"], ["cell", "@agent_count"], "@conditional"], "@for_each"]
    },
    {
      "agents":["cell"],
      "logic":["int fragment_index = int(floor((screen_pos.x * u_window_size.x) + (u_window_size.x * (screen_pos.y * u_window_size.y))));\n", "@code", ["cell", ["fragment_index", "@code"], "@get_agent_at_index", ".alive", "@code"], ["1.0", "1.0", "1.0", "1.0", "@vec4", "@out_color"], ["0.0", "0.0", "0.0", "1.0", "@vec4", "@out_color"], "@conditional"]
    }
  ]
}