{
  "world":{
    "name":"Conway's Game of Life",
    "type":"AgentGrid"
  },
  "agents":{
    "cell":{
      "attributes":{
        "color":{
          "type":"vec3",
          "default_value":["@random_float", "@random_float", "@random_float", "@vec3"]
        },
        "alive":{
          "type":"bool",
          "default_value":["@random_float", "0.33", "@greater"]
        }
      }
    }
  },
  "steps":[
    {
      "logic":[
        "int", "neighbors", "0", "@define", 
        ["neighbors", "cell", ["x_pos", "-1", "@add", "y_pos", "-1", "@add", "@xy_to_screen_index"], "alive", "@agent_read", "1", "0", "@?", "@increment_by"],
        ["neighbors", "cell", ["x_pos", "y_pos", "-1", "@add", "@xy_to_screen_index"], "alive", "@agent_read", "1", "0", "@?", "@increment_by"],
        ["neighbors", "cell", ["x_pos", "+1", "@add", "y_pos", "-1", "@add", "@xy_to_screen_index"], "alive", "@agent_read", "1", "0", "@?", "@increment_by"],
        ["neighbors", "cell", ["x_pos", "-1", "@add", "y_pos", "@xy_to_screen_index"], "alive", "@agent_read", "1", "0", "@?", "@increment_by"],
        ["neighbors", "cell", ["x_pos", "+1", "@add", "y_pos", "@xy_to_screen_index"], "alive", "@agent_read", "1", "0", "@?", "@increment_by"],
        ["neighbors", "cell", ["x_pos", "-1", "@add", "y_pos", "+1", "@add", "@xy_to_screen_index"], "alive", "@agent_read", "1", "0", "@?", "@increment_by"],
        ["neighbors", "cell", ["x_pos", "y_pos", "+1", "@add", "@xy_to_screen_index"], "alive", "@agent_read", "1", "0", "@?", "@increment_by"],
        ["neighbors", "cell", ["x_pos", "+1", "@add", "y_pos", "+1", "@add", "@xy_to_screen_index"], "alive", "@agent_read", "1", "0", "@?", "@increment_by"],
        ["cell", "fragment_index", "alive", "@agent_read" , ["cell", "fragment_index", "alive", ["neighbors", "2", "@is_equal_to", "neighbors", "3", "@is_equal_to", "@or"], "@agent_write"], ["cell", "fragment_index", "alive", "neighbors", "3", "@is_equal_to", "@agent_write"], "@conditional"]
      ]
    }
  ]
}